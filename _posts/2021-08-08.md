---
layout:     post
title:      中国移动的光猫利用 HOST 来屏蔽乐播投屏广告
subtitle:   姿势
date:       2021-08-08
author:     kkzh
header-img: img/optimization.png
catalog: true
tags:
    - 广告
    - 路由器
---


# 开篇

小米手机广告多这点相信很多人都有所耳目闻，但就我亲身体验来说，还在可以接受的程度，因此对小米的高性价比产品还是很有好感的。

但最近入手的小米电视确实是让我不得不重新审视一下我之前的观点了，现在是有点后悔没买同价位的智慧屏了。

其实在相关部门的三令五申下，开机广告这一块基本是解决了，但我实在没想到投屏这一块也能有广告（虽然投屏广告是乐播投屏自带的，但也有很多品牌的投屏是没广告的）。

虽然网上有说一天最多出现5次广告，但问题是我一天也没投屏超过五次的情况呀。

所以在某一天晚上，突然情绪就爆发了，我必须找点办法干掉这广告。






## 思路

屏蔽广告其实也不难，没有预先在安装包载入广告的情况下，只要禁止软件访问特定的广告 API 更新下载广告，APP 也没办法无中生有，自然就无法显示广告了。

不过要一条条排查哪条 API 是和广告有关的，也是挺麻烦的，考虑到我根本不需要这 APP 联网，所以我决定直接禁止整个 APP 联网。

电视上要单独禁止某个 APP 的联网是有点困难的，最简单的还是在路由器上禁止，这样就从源头上彻底禁止了。

由于目前我使用的是中国移动送的光猫，这光猫自带路由功能，性能也基本满足我的要求，也就不想再接个路由器了。

这光猫的路由功能虽然简陋，但还是有 HOST 屏蔽功能的。

## 实操：

#### 步骤一

第一步当然是进入光猫后台，然后“安全-广域网访问设置-勾选 '使能'”，这就开启屏蔽功能了。

#### 步骤二

模式选项选择“黑名单”，依次加入下面 URL（没想到屏蔽乐播竟然能影响斗鱼的网络，没办法只要筛选一下了）：

``` css
rp.hpplay.cn
adcdn.hpplay.cn
sl.hpplay.cn
sdkauth.hpplay.cn
adeng.hpplay.cn
conf.hpplay.cn
ad.hpplay.cn
adc.hpplay.cn
rp.hpplay.com.cn

```

那如果你不是我这款路由那就更简单了，直接找到相关的 host 屏蔽功能然后复制下面代码就解决了：

``` 
127.0.0.1 rp.hpplay.cn
127.0.0.1 adcdn.hpplay.cn
127.0.0.1 sl.hpplay.cn
127.0.0.1 sdkauth.hpplay.cn
127.0.0.1 adeng.hpplay.cn
127.0.0.1 conf.hpplay.cn
127.0.0.1 ad.hpplay.cn
127.0.0.1 adc.hpplay.cn
127.0.0.1 rp.hpplay.com.cn
```


## 结尾
如果你已经装上乐播投屏了，屏蔽后还是有广告，请清理一下数据再使用。因为软件已经下载好广告在电视机里了，虽然它不能更新广告了，但也会一直一直播放以前就下载好的广告。